// Ubicaciones comunes en Argentina para autocomplete
export const ARGENTINA_LOCATIONS = [
  // Ciudad Autónoma de Buenos Aires (CABA)
  { value: 'Palermo, CABA', label: 'Palermo, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Recoleta, CABA', label: 'Recoleta, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Belgrano, CABA', label: 'Belgrano, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Núñez, CABA', label: 'Núñez, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Colegiales, CABA', label: 'Colegiales, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Villa Urquiza, CABA', label: 'Villa Urquiza, CABA', city: 'CABA', zone: 'Norte' },
  { value: 'Caballito, CABA', label: 'Caballito, CABA', city: 'CABA', zone: 'Centro' },
  { value: 'Almagro, CABA', label: 'Almagro, CABA', city: 'CABA', zone: 'Centro' },
  { value: 'Balvanera, CABA', label: 'Balvanera, CABA', city: 'CABA', zone: 'Centro' },
  { value: 'Villa Crespo, CABA', label: 'Villa Crespo, CABA', city: 'CABA', zone: 'Centro' },
  { value: 'San Nicolás, CABA', label: 'San Nicolás (Centro), CABA', city: 'CABA', zone: 'Centro' },
  { value: 'Monserrat, CABA', label: 'Monserrat, CABA', city: 'CABA', zone: 'Centro' },
  { value: 'Puerto Madero, CABA', label: 'Puerto Madero, CABA', city: 'CABA', zone: 'Este' },
  { value: 'San Telmo, CABA', label: 'San Telmo, CABA', city: 'CABA', zone: 'Sur' },
  { value: 'La Boca, CABA', label: 'La Boca, CABA', city: 'CABA', zone: 'Sur' },
  { value: 'Barracas, CABA', label: 'Barracas, CABA', city: 'CABA', zone: 'Sur' },
  { value: 'Parque Patricios, CABA', label: 'Parque Patricios, CABA', city: 'CABA', zone: 'Sur' },
  { value: 'Flores, CABA', label: 'Flores, CABA', city: 'CABA', zone: 'Oeste' },
  { value: 'Floresta, CABA', label: 'Floresta, CABA', city: 'CABA', zone: 'Oeste' },
  { value: 'Liniers, CABA', label: 'Liniers, CABA', city: 'CABA', zone: 'Oeste' },
  { value: 'Versalles, CABA', label: 'Versalles, CABA', city: 'CABA', zone: 'Oeste' },
  { value: 'Mataderos, CABA', label: 'Mataderos, CABA', city: 'CABA', zone: 'Oeste' },

  // Gran Buenos Aires (GBA) - Zona Norte
  { value: 'Vicente López, GBA', label: 'Vicente López, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'Olivos, GBA', label: 'Olivos, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'San Isidro, GBA', label: 'San Isidro, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'Martínez, GBA', label: 'Martínez, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'San Fernando, GBA', label: 'San Fernando, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'Tigre, GBA', label: 'Tigre, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'Nordelta, GBA', label: 'Nordelta, GBA', city: 'GBA', zone: 'Norte' },
  { value: 'Pilar, GBA', label: 'Pilar, GBA', city: 'GBA', zone: 'Noroeste' },
  { value: 'Escobar, GBA', label: 'Escobar, GBA', city: 'GBA', zone: 'Norte' },

  // Gran Buenos Aires - Zona Oeste
  { value: 'Morón, GBA', label: 'Morón, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'Castelar, GBA', label: 'Castelar, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'Ramos Mejía, GBA', label: 'Ramos Mejía, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'Haedo, GBA', label: 'Haedo, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'Ituzaingó, GBA', label: 'Ituzaingó, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'San Justo, GBA', label: 'San Justo, GBA', city: 'GBA', zone: 'Oeste' },
  { value: 'Merlo, GBA', label: 'Merlo, GBA', city: 'GBA', zone: 'Oeste' },

  // Gran Buenos Aires - Zona Sur
  { value: 'Avellaneda, GBA', label: 'Avellaneda, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Lanús, GBA', label: 'Lanús, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Lomas de Zamora, GBA', label: 'Lomas de Zamora, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Banfield, GBA', label: 'Banfield, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Temperley, GBA', label: 'Temperley, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Quilmes, GBA', label: 'Quilmes, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Berazategui, GBA', label: 'Berazategui, GBA', city: 'GBA', zone: 'Sur' },
  { value: 'Florencio Varela, GBA', label: 'Florencio Varela, GBA', city: 'GBA', zone: 'Sur' },

  // Otras ciudades importantes
  { value: 'La Plata, Buenos Aires', label: 'La Plata, Buenos Aires', city: 'La Plata', zone: 'Capital' },
  { value: 'Mar del Plata, Buenos Aires', label: 'Mar del Plata, Buenos Aires', city: 'Mar del Plata', zone: 'Costa' },
  { value: 'Rosario, Santa Fe', label: 'Rosario, Santa Fe', city: 'Rosario', zone: 'Centro' },
  { value: 'Córdoba, Córdoba', label: 'Córdoba Capital', city: 'Córdoba', zone: 'Centro' },
  { value: 'Mendoza, Mendoza', label: 'Mendoza Capital', city: 'Mendoza', zone: 'Cuyo' },
] as const;

export type LocationOption = typeof ARGENTINA_LOCATIONS[number];

// Normalize location string: remove punctuation and convert to lowercase
export const normalizeLocation = (location: string): string => {
  return location
    .toLowerCase()
    .replace(/[.,/#!$%^&*;:{}=\-_`~()]/g, '') // Remove punctuation
    .replace(/\s+/g, ' ') // Normalize spaces
    .trim();
};

// Helper para buscar ubicaciones por término
export const searchLocations = (searchTerm: string, limit = 5): LocationOption[] => {
  if (!searchTerm || searchTerm.length < 2) return [];

  const normalizedSearch = normalizeLocation(searchTerm);

  return ARGENTINA_LOCATIONS
    .filter(location =>
      normalizeLocation(location.label).includes(normalizedSearch) ||
      normalizeLocation(location.value).includes(normalizedSearch) ||
      normalizeLocation(location.city).includes(normalizedSearch) ||
      normalizeLocation(location.zone).includes(normalizedSearch)
    )
    .slice(0, limit);
};
