# ============================================
# DOAPP - Environment Variables Template
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=development

# Development URLs (HTTPS with self-signed certificates)
CLIENT_URL=https://localhost:5173
SERVER_URL=https://localhost:3001

# Production URLs (update these for your domain)
# CLIENT_URL=https://yourdomain.com
# SERVER_URL=https://api.yourdomain.com

# ============================================
# Database - PostgreSQL
# ============================================
# Option 1: Use DATABASE_URL (recommended for production)
DATABASE_URL=postgresql://postgres:your-password@localhost:5432/doapp

# Option 2: Individual variables (for local development)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=doapp
DB_USER=postgres
DB_PASSWORD=your-postgres-password
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Development database URL (optional, for sequelize-cli in dev)
DEV_DATABASE_URL=postgresql://postgres:your-password@localhost:5433/doapp_test

# Test database URL (optional, for running tests)
TEST_DATABASE_URL=postgresql://postgres:your-password@localhost:5433/doapp_test

# Database SSL (set to true for production)
DB_SSL=false

# ============================================
# Authentication & Security
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRE=7d

# Encryption key for sensitive data (CBU, bank info, etc.)
# Generate a secure key: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY=your-encryption-key-change-this-in-production-base64

# ============================================
# OAuth - Google
# ============================================
GOOGLE_CLOUD_AUTH_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLOUD_AUTH_PASS=your-google-client-secret

# ============================================
# OAuth - Facebook
# ============================================
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# ============================================
# OAuth - Twitter/X
# ============================================
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret

# ============================================
# MercadoPago - Payment Gateway (Direct Integration)
# ============================================
# Obtén tus credenciales en: https://www.mercadopago.com.ar/developers/panel/credentials
#
# Para TESTING: Usa las credenciales de TEST
# Para PRODUCCIÓN: Usa las credenciales de PRODUCCIÓN
#
# IMPORTANTE: Nunca uses tarjetas de prueba con credenciales de producción

# TEST Credentials (para desarrollo)
MERCADOPAGO_ACCESS_TOKEN=TEST-xxxxx-your-test-access-token
MERCADOPAGO_PUBLIC_KEY=TEST-xxxxx-your-test-public-key

# PRODUCTION Credentials (para producción - comentadas por defecto)
# MERCADOPAGO_ACCESS_TOKEN=APP_USR-xxxxx-your-production-access-token
# MERCADOPAGO_PUBLIC_KEY=APP_USR-xxxxx-your-production-public-key

# ============================================
# NOTA IMPORTANTE: Tarjetas de Prueba
# ============================================
# Con credenciales TEST, usa tarjetas de prueba de MercadoPago:
# https://www.mercadopago.com.ar/developers/es/docs/checkout-api/testing
#
# Visa aprobada: 4509 9535 6623 3704
# Mastercard rechazada: 5031 7557 3453 0604

# ============================================
# Binance Pay Configuration (CRYPTO)
# ============================================
# Obtén tu Binance ID y Nickname en: https://www.binance.com/es-LA/my/settings/payment
# 1. Ve a tu perfil de Binance
# 2. Copia tu "Binance ID" (tu ID de usuario de Binance)
# 3. Copia tu "Nickname" de Binance (se mostrará a los usuarios)
# 4. Los usuarios transferirán USDT u otras criptos a tu Binance ID
BINANCE_ID=your-binance-user-id
BINANCE_NICKNAME=your-binance-nickname

# ============================================
# Bank Transfer Configuration (ARGENTINA)
# ============================================
# Datos bancarios de DOAPP para transferencias directas
BANK_ACCOUNT_HOLDER=DOAPP S.R.L.
BANK_CUIT=30-12345678-9
BANK_NAME=Banco Galicia
BANK_CBU=0070099920000123456789
BANK_ALIAS=DOAPP.PAGOS

# ============================================
# Firebase (Push Notifications)
# ============================================
# Backend: Service Account Key (base64)
# 1. Go to Firebase Console → Project Settings → Service Accounts
# 2. Click "Generate new private key" → Download JSON
# 3. Convert to base64: base64 -i firebase-admin.json (Linux/Mac) or use online tool
FIREBASE_SERVICE_ACCOUNT_KEY=base64-encoded-service-account-json

# Frontend: VAPID Key (for web push)
# 1. Go to Firebase Console → Project Settings → Cloud Messaging
# 2. Scroll to "Web Push certificates"
# 3. Click "Generate key pair" → Copy the key
# Note: Add this in client/lib/firebase.ts (line 56)
VITE_FIREBASE_VAPID_KEY=your-vapid-key-here

# ============================================
# Email Service Provider
# ============================================
# Options: sendgrid, mailgun, smtp
EMAIL_PROVIDER=smtp

# SendGrid (Option 1)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Mailgun (Option 2)
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.yourdomain.com
MAILGUN_FROM_EMAIL=noreply@yourdomain.com

# SMTP / Hostinger (Option 3 - RECOMMENDED for Hostinger)
# Hostinger SMTP Settings:
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=CHANGE_ME_your-email@yourdomain.com
SMTP_PASS=CHANGE_ME_your-email-password-here
SMTP_FROM_EMAIL=CHANGE_ME_your-email@yourdomain.com
SMTP_FROM_NAME=DOAPP

# ============================================
# Google Analytics - OPTIONAL
# ============================================
# Get your Measurement ID from Google Analytics 4:
# 1. Go to Admin → Data Streams → Select your web stream
# 2. Copy the Measurement ID (starts with G-)
VITE_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ============================================
# Frontend Environment Variables
# ============================================
VITE_API_URL=https://localhost:3001/api
# Note: VITE_ prefix is required for Vite to expose env vars to the frontend

# Firebase Frontend Config
VITE_FIREBASE_API_KEY=your-firebase-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# MercadoPago Public Key (para frontend si es necesario en el futuro)
# VITE_MERCADOPAGO_PUBLIC_KEY=TEST-xxxxx-your-test-public-key
# VITE_MERCADOPAGO_PUBLIC_KEY=APP_USR-xxxxx-your-prod-public-key  # En producción

# ============================================
# Production Settings (Hostinger VPS)
# ============================================
# Uncomment and configure these for production deployment

# Production URLs
# CLIENT_URL=https://tudominio.com
# SERVER_URL=https://tudominio.com
# VITE_API_URL=https://tudominio.com/api

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session/Cookie Settings
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict
SESSION_SECRET=your-session-secret-change-in-production

# CORS Settings (comma-separated origins)
CORS_ORIGINS=https://localhost:5173,https://tudominio.com

# File Upload Limits
MAX_FILE_SIZE=52428800
UPLOAD_DIR=uploads

# ============================================
# Logging & Monitoring
# ============================================
LOG_LEVEL=info
LOG_FORMAT=combined

# ============================================
# Optional: Redis (for caching in production)
# ============================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# ============================================
# Optional: External Services
# ============================================
# Currency Exchange API (for ARS/USD conversion)
# Uses free APIs by default, no key needed

# Cloudinary (for image hosting - optional)
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret
